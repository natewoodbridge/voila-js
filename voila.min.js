/*!
 * Voila
 * @preserve
 * @version 0.1.7
 * @author NIW London (nate@niwlondon.com)
 * 
 * @description Tiny library used to run sections of code only when certain classes exsist in the body tag
 * Code can also be saved the an object and retried at a later point
 * The class contains settings and cache as well, all useful for making sites
 *
 * Some ideas taken from http://goo.gl/EUTi53 by Paul Irish
 */
function Voila(){this.settings={version:null,debug:!1},this.cache={},this.savedFunctions={},this._eventsList=[],this._eventsList=document.body.className.split(/\s+/)}Voila.prototype.findEvent=function(t){return"global"===t||-1!=this._eventsList.indexOf(t)},Voila.prototype.checkEvents=function(t){var n=this,e=!1;return Array.isArray(t)?Array.prototype.forEach.call(t,function(t,i){e=n.findEvent(t)?!0:e}):e=n.findEvent(t)?!0:e,e},Voila.prototype.when=function(t,n,e){var i,o=this;e="undefined"==typeof e?!0:e,i=this.checkEvents(t)&&"undefined"!=typeof t&&"function"==typeof n,i&&(e?"function"==typeof jQuery?jQuery(document).on("ready",function(){n.call(o)}):document.addEventListener("DOMContentLoaded",function(){n.call(o)}):n.call(this))},Voila.prototype.save=function(t,n){"function"==typeof n&&(this.savedFunctions[t]=n)},Voila.prototype.run=function(t,n){var e;return e=""!==t,e=e&&"function"==typeof this.savedFunctions[t],Array.isArray(n)||(n=[n]),e?this.savedFunctions[t].apply(this,n):void 0},window.voila=new Voila;